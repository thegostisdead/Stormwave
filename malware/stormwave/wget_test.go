package main

import (
	"fmt"
	"os"
	"testing"
)

func TestDownloadFile(t *testing.T) {

	// Prepare the parameters for downloadFile function
	params := DownloadFileParams{
		Url:  "https://raw.githubusercontent.com/thegostisdead/js-ini-parser/main/README.md",
		Path: "test.md",
	}

	// Call the downloadFile function
	downloadFile(params)

	if !fileExists("test.md") {
		t.Errorf("File should exist")
	}
	err := os.Remove("test.md")

	if err != nil {
		fmt.Println("Can't delete test file test.md")
	}

}
