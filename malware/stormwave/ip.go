package main

import "fmt"

type GetPublicIpParams struct {
	
}

func getPublicIp(params GetPublicIpParams) {

}

type GetPrivateIpParams struct {
	Network string `json:"network"`
}

func getPrivateIp(params GetPrivateIpParams) {

}

type NetworkScanParams struct {
	StartIPv4Address string `json:"startIPv4Address"`
	EndIPv4Address string `json:"endIPv4Address"`
}

func networkScan(params NetworkScanParams) string {
	var scannerPath string = "%appdata%\\agent\\scanner.ps1"

	fullCommand := fmt.Sprintf("powershell.exe -ExecutionPolicy Bypass -File %s -StartIPv4Address %s -EndIPv4Address %s", scannerPath, params.StartIPv4Address, params.EndIPv4Address)

	result, err := cmdOut(fullCommand)

	if err != nil {
		fmt.Println(err)
	}

	return result
}