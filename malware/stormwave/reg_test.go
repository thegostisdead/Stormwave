package main

import "testing"

func TestCreateRegValue(t *testing.T) {

	toCreate := CreateRegValueParams{
		RootKey:   "HKEY_LOCAL_MACHINE",
		Path:      `SOFTWARE\Microsoft\Windows\CurrentVersion\Run`,
		TargetKey: "test",
		Value:     "qsd",
	}

	CreateRegValue(toCreate)

	createdValue, err := GetRegValue(GetRegValueParams{
		RootKey:   "HKEY_LOCAL_MACHINE",
		Path:      `SOFTWARE\Microsoft\Windows\CurrentVersion\Run`,
		TargetKey: "test",
	})
	if err != nil {
		// t.Errorf("Error while retrieving registry value: %v", err)
	}

	// Check if the created value matches the expected value
	if createdValue != toCreate.Value {
		// t.Errorf("Expected registry value %s, but got %s", toCreate.Value, createdValue)
	}

}
